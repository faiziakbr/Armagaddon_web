(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1dab5c14"],{"3d64":function(e,r,a){"use strict";a.r(r);var t=function(){var e=this,r=e.$createElement,a=e._self._c||r;return a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{dark:"",color:"primary"}},[a("v-toolbar-title",[e._v("Register")]),a("v-spacer")],1),a("p",{staticClass:"ma-2",staticStyle:{border:"2px red solid",padding:"2px","background-color":"rgba(255, 0, 0, 0.2)"},attrs:{hidden:e.errorText.length<=0}},[e._v(e._s(e.errorText))]),a("v-form",{model:{value:e.valid,callback:function(r){e.valid=r},expression:"valid"}},[a("v-card-text",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{attrs:{"prepend-icon":"person",name:"first_name",label:"First Name",required:"",rules:e.firstNameRules},nativeOn:{click:function(r){return e.removeErrorText(r)}},model:{value:e.firstName,callback:function(r){e.firstName=r},expression:"firstName"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{attrs:{"prepend-icon":"person",name:"last_name",label:"Last Name",required:"",rules:e.lastNameRules},nativeOn:{click:function(r){return e.removeErrorText(r)}},model:{value:e.lastName,callback:function(r){e.lastName=r},expression:"lastName"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{attrs:{"prepend-icon":"email",name:"email",label:"email",type:"email",required:"",rules:e.emailRules},nativeOn:{click:function(r){return e.removeErrorText(r)}},model:{value:e.email,callback:function(r){e.email=r},expression:"email"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{attrs:{"prepend-icon":"code",name:"referral_code",label:"Referral Code (optional)","append-icon":e.icon,loading:e.checkReferral},on:{blur:e.validateReferralCode},scopedSlots:e._u([{key:"progress",fn:function(){return[a("v-progress-linear",{attrs:{indeterminate:!0,height:"5"}})]},proxy:!0}]),model:{value:e.referralCode,callback:function(r){e.referralCode=r},expression:"referralCode"}})],1),a("v-flex",{attrs:{xs6:""}},[a("v-text-field",{attrs:{"prepend-icon":"lock",name:"password",label:"Password",type:"password",required:"",rules:e.passwordRules},nativeOn:{click:function(r){return e.removeErrorText(r)}},model:{value:e.password,callback:function(r){e.password=r},expression:"password"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{attrs:{"prepend-icon":"lock",name:"confirm_password",label:"Confirm Password",type:"password",required:"",rules:e.confirmPasswordRules},nativeOn:{click:function(r){return e.removeErrorText(r)}},model:{value:e.confirmPassword,callback:function(r){e.confirmPassword=r},expression:"confirmPassword"}})],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"accent",disabled:!e.valid},on:{click:e.register}},[e._v("Register")])],1)],1)],1)],1)],1)],1)},s=[],i=a("bc3a"),o=a.n(i),n={data:function(){return{valid:!1,errorText:"",checkReferral:!1,referralValid:!1,icon:"",firstName:"fdsfd",lastName:"fdsfds",email:"test@test.com",password:"123456",confirmPassword:"1234567",referralCode:"",referralId:-1,firstNameRules:[function(e){return!!e||"First name is required"}],lastNameRules:[function(e){return!!e||"Last name is required"}],emailRules:[function(e){return!!e||"E-mail is required"},function(e){return/.+@.+/.test(e)||"E-mail must be valid"}],passwordRules:[function(e){return!!e||"Password is required"},function(e){return e.length>=6||"Password must not be less than 6 characters"}],confirmPasswordRules:[function(e){return!!e||"Confirm password is required"},function(e){return e.length>=6||"Password must not be less than 6 characters"}]}},methods:{validateReferralCode:function(){var e=this;""!=this.referralCode&&(this.checkReferral=!0,o.a.get("http://www.vacayplanet.com/ArmageddonApi/public/api/verifyReferral/"+this.referralCode).then(function(r){200==r.status?(e.referralId=r.data.referral.id,e.referralValid=!0,e.checkReferral=!1,e.icon="check_circle"):(e.referralValid=!1,e.checkReferral=!1,e.icon="cancel")}).catch(function(r){console.log(r),e.referralValid=!1,e.checkReferral=!1,e.icon="cancel"}))},register:function(){var e=this;if(this.password==this.confirmPassword){var r={};if(""==this.referralCode)r={first_name:this.firstName,last_name:this.lastName,email:this.email,password:this.password,password_confirmation:this.confirmPassword};else{if(!this.referralValid)return void(this.referralCode.length>0&&!this.referralValid&&(this.errorText="Referral Code invalid!"));console.log("Running this code"),r={first_name:this.firstName,last_name:this.lastName,email:this.email,password:this.password,password_confirmation:this.confirmPassword,referral_id:this.referralId}}this.$store.dispatch("register",r).then(function(r){e.$router.push("/checkout")}).catch(function(r){console.log("ERROR: "+r),e.errorText="Invalid Email or Password!"})}else this.errorText="Password's do not match!"},removeErrorText:function(){this.errorText=""}}},l=n,c=(a("a70e"),a("2877")),d=a("6544"),f=a.n(d),u=a("8336"),m=a("b0af"),p=a("99d9"),v=a("a523"),h=a("0e8f"),x=a("4bd4"),w=a("a722"),b=a("8e36"),k=a("9910"),R=a("2677"),g=a("71d9"),C=a("2a7f"),V=Object(c["a"])(l,t,s,!1,null,null,null);r["default"]=V.exports;f()(V,{VBtn:u["a"],VCard:m["a"],VCardActions:p["a"],VCardText:p["b"],VContainer:v["a"],VFlex:h["a"],VForm:x["a"],VLayout:w["a"],VProgressLinear:b["a"],VSpacer:k["a"],VTextField:R["a"],VToolbar:g["a"],VToolbarTitle:C["a"]})},"7a49":function(e,r,a){},a70e:function(e,r,a){"use strict";var t=a("7a49"),s=a.n(t);s.a}}]);
//# sourceMappingURL=chunk-1dab5c14.a4c3cfa7.js.map